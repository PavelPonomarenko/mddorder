<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">


    <changeSet id="1.0.0" author="eugene.suleimanov">
        <createTable tableName="users">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="username" type="VARCHAR(100)">
                <constraints nullable="false" unique="true"/>
            </column>

            <column name="email" type="VARCHAR(255)">
                <constraints nullable="false" unique="true"/>
            </column>

            <column name="first_name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>

            <column name="last_name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>

            <column name="password" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>

            <column name="created" type="TIMESTAMP" defaultValue="CURRENT_TIMESTAMP()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="CURRENT_TIMESTAMP()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>

        </createTable>
    </changeSet>

    <changeSet id="1.0.1" author="eugene.suleimanov">
        <createTable tableName="roles">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="name" type="VARCHAR(100)">
                <constraints nullable="false" unique="true"/>
            </column>

            <column name="created" type="TIMESTAMP" defaultValue="CURRENT_TIMESTAMP()">
                <constraints nullable="false"/>
            </column>

            <column name="updated" type="TIMESTAMP" defaultValue="CURRENT_TIMESTAMP()">
                <constraints nullable="false"/>
            </column>

            <column name="status" type="VARCHAR(25)" defaultValue="ACTIVE">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="1.0.2" author="eugene.suleimanov">
        <createTable tableName="user_roles">
            <column name="user_id" type="BIGINT">
            </column>

            <column name="role_id" type="BIGINT">
            </column>
        </createTable>
    </changeSet>

    <changeSet id="1.0.3" author="eugene.suleimanov">
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="user_roles"
                                 constraintName="fk_user_roles_user"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="users"/>
    </changeSet>

    <changeSet id="1.0.4" author="eugene.suleimanov">
        <addForeignKeyConstraint baseColumnNames="role_id"
                                 baseTableName="user_roles"
                                 constraintName="fk_user_roles_roles"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="roles"/>
    </changeSet>

    <changeSet id="1.0.5" author="eugene.suleimanov">
        <insert tableName="roles">
            <column name="name" value="ROLE_USER"/>
        </insert>

        <insert tableName="roles">
            <column name="name" value="ROLE_ADMIN"/>
        </insert>
    </changeSet>
</databaseChangeLog>


        <!--<?xml version="1.0" encoding="UTF-8"?>-->
        <!--<databaseChangeLog-->
        <!--        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"-->
        <!--        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"-->
        <!--        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-->
        <!--         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">-->

        <!--    &lt;!&ndash;    <changeSet author="paveladmin" id="admin007-1">&ndash;&gt;-->
        <!--    &lt;!&ndash;        <createTable tableName="users">&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column autoIncrement="true" name="id" type="BIGINT">&ndash;&gt;-->
        <!--    &lt;!&ndash;                <constraints primaryKey="true"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            </column>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="name" type="VARCHAR(255)"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="surname" type="VARCHAR(255)"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="email" type="VARCHAR(255)"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="login" type="VARCHAR(255)"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="password" type="VARCHAR(255)"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="role" type="VARCHAR(255)"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="status" type="VARCHAR(255)"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;        </createTable>&ndash;&gt;-->
        <!--    &lt;!&ndash;    </changeSet>&ndash;&gt;-->

        <!--    &lt;!&ndash;    <changeSet author="paveladmin" id="admin007-2">&ndash;&gt;-->
        <!--    &lt;!&ndash;        <createTable tableName="roles">&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column autoIncrement="true" name="id" type="BIGINT">&ndash;&gt;-->
        <!--    &lt;!&ndash;                <constraints primaryKey="true"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            </column>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="name" type="VARCHAR(20)"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;        </createTable>&ndash;&gt;-->
        <!--    &lt;!&ndash;    </changeSet>&ndash;&gt;-->

        <!--&lt;!&ndash;    <changeSet author="Pavel" id="008_1_insert_table_users">&ndash;&gt;-->
        <!--&lt;!&ndash;        <insert tableName="users">&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="first_name" value="Pavel"/>&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="last_name" value="Ponomarenko"/>&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="email" value="ponomarenko.kyiv@gmail.com"/>&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="password" value="1111"/>&ndash;&gt;-->
        <!--&lt;!&ndash;        </insert>&ndash;&gt;-->
        <!--&lt;!&ndash;    </changeSet>&ndash;&gt;-->
        <!--&lt;!&ndash;    <changeSet author="Pavel" id="008_2_insert_table_users">&ndash;&gt;-->
        <!--&lt;!&ndash;        <insert tableName="users">&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="first_name" value="Igor"/>&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="last_name" value="Kovalenko"/>&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="email" value="kovalenko@gmail.com"/>&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="password" value="2222"/>&ndash;&gt;-->
        <!--&lt;!&ndash;        </insert>&ndash;&gt;-->
        <!--&lt;!&ndash;    </changeSet>&ndash;&gt;-->

        <!--&lt;!&ndash;    <changeSet author="Pavel" id="008_3_insert_table_roles">&ndash;&gt;-->
        <!--&lt;!&ndash;        <insert tableName="roles">&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="role_type" value="ROLE_ADMIN"/>&ndash;&gt;-->
        <!--&lt;!&ndash;        </insert>&ndash;&gt;-->
        <!--&lt;!&ndash;    </changeSet>&ndash;&gt;-->
        <!--&lt;!&ndash;    <changeSet author="Pavel" id="008_4_insert_table_roles">&ndash;&gt;-->
        <!--&lt;!&ndash;        <insert tableName="roles">&ndash;&gt;-->
        <!--&lt;!&ndash;            <column name="role_type" value="ROLE_USER"/>&ndash;&gt;-->
        <!--&lt;!&ndash;        </insert>&ndash;&gt;-->
        <!--&lt;!&ndash;    </changeSet>&ndash;&gt;-->


        <!--    &lt;!&ndash;    <changeSet author="Pavel" id="007-4">&ndash;&gt;-->
        <!--    &lt;!&ndash;        <insert tableName="users">&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="name" value="Andrey"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="surname" value="Marin"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="email" value="marin@gmail.com"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="login" value="marin"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="password" value="marin"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="role" value="USER"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="status" value="ACTIVE"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;        </insert>&ndash;&gt;-->
        <!--    &lt;!&ndash;        <insert tableName="users">&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="name" value="Pavel"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="surname" value="Ponomarenko"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="email" value="ponomarenko.kyiv@gmail.com"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="login" value="pavel"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="password" value="pavel"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="role" value="ADMIN"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="status" value="ACTIVE"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;        </insert>&ndash;&gt;-->
        <!--    &lt;!&ndash;    </changeSet>&ndash;&gt;-->
        <!--    &lt;!&ndash;    <changeSet author="paveladmin" id="admin007-5">&ndash;&gt;-->
        <!--    &lt;!&ndash;        <insert tableName="roles">&ndash;&gt;-->
        <!--    &lt;!&ndash;            <column name="name" value="ROLE_ADMIN"/>&ndash;&gt;-->
        <!--    &lt;!&ndash;        </insert>&ndash;&gt;-->
        <!--    &lt;!&ndash;    </changeSet>&ndash;&gt;-->


        <!--</databaseChangeLog>-->